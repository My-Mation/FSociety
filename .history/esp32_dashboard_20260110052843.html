<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESP32 Industrial Monitor</title>
    <link rel="stylesheet" href="esp32_style.css">
</head>
<body>
    <!-- ========================================
         HEADER
    ======================================== -->
    <header class="header">
        <div class="header-left">
            <h1 class="logo">‚öôÔ∏è ESP32 Monitor</h1>
            <span class="subtitle">Industrial Sensor Dashboard</span>
        </div>
        <div class="header-right">
            <div class="connection-status" id="connection-status">
                <span class="status-dot"></span>
                <span class="status-text">Connecting...</span>
            </div>
            <div class="last-update" id="last-update">--:--:--</div>
        </div>
    </header>

    <!-- ========================================
         MAIN DASHBOARD
    ======================================== -->
    <main class="dashboard">
        
        <!-- Device Info Bar -->
        <section class="device-bar">
            <div class="device-info">
                <span class="label">Device ID:</span>
                <span class="value" id="device-id">--</span>
            </div>
            <div class="device-info">
                <span class="label">Last Reading:</span>
                <span class="value" id="last-timestamp">--</span>
            </div>
            <div class="device-info">
                <span class="label">Total Events:</span>
                <span class="value" id="event-count">0</span>
            </div>
        </section>

        <!-- ========================================
             SENSOR CARDS ROW
        ======================================== -->
        <section class="cards-row">
            
            <!-- Air Quality Card -->
            <article class="sensor-card air-quality-card">
                <header class="card-header">
                    <h2>üå´Ô∏è Air Quality</h2>
                    <div class="status-badge" id="gas-status-badge">--</div>
                </header>
                <div class="card-body">
                    <div class="primary-value">
                        <span class="value-number" id="gas-value">--</span>
                        <span class="value-unit">PPM</span>
                    </div>
                    <div class="value-bar-container">
                        <div class="value-bar" id="gas-bar"></div>
                        <div class="bar-labels">
                            <span>0</span>
                            <span>Safe</span>
                            <span>Warning</span>
                            <span>Risk</span>
                        </div>
                    </div>
                </div>
                <footer class="card-footer">
                    <canvas id="gas-chart" width="400" height="120"></canvas>
                </footer>
            </article>

            <!-- Vibration Card -->
            <article class="sensor-card vibration-card">
                <header class="card-header">
                    <h2>üì≥ Vibration</h2>
                    <div class="vibration-indicator" id="vibration-indicator">
                        <span class="indicator-dot"></span>
                        <span class="indicator-text">OFF</span>
                    </div>
                </header>
                <div class="card-body">
                    <div class="primary-value">
                        <span class="value-number" id="vibration-value">0</span>
                        <span class="value-unit">pulses</span>
                    </div>
                    <div class="vibration-stats">
                        <div class="stat">
                            <span class="stat-label">Events Today</span>
                            <span class="stat-value" id="vibration-events">0</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Peak Value</span>
                            <span class="stat-value" id="vibration-peak">0</span>
                        </div>
                    </div>
                </div>
                <footer class="card-footer">
                    <canvas id="vibration-chart" width="400" height="120"></canvas>
                </footer>
            </article>

        </section>

        <!-- ========================================
             HISTORY SECTION
        ======================================== -->
        <section class="history-section">
            <header class="section-header">
                <h2>üìä Sensor History</h2>
                <div class="history-controls">
                    <button class="btn" id="btn-clear-history">Clear History</button>
                    <span class="data-points" id="data-points-count">0 points</span>
                </div>
            </header>
            <div class="history-chart-container">
                <canvas id="history-chart" width="1200" height="200"></canvas>
            </div>
        </section>

        <!-- ========================================
             DATA TABLE
        ======================================== -->
        <section class="data-table-section">
            <header class="section-header">
                <h2>üìã Recent Readings</h2>
            </header>
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Timestamp</th>
                            <th>Device</th>
                            <th>Gas (PPM)</th>
                            <th>Status</th>
                            <th>Vibration</th>
                            <th>Events</th>
                        </tr>
                    </thead>
                    <tbody id="data-table-body">
                        <tr>
                            <td colspan="6" class="no-data">Waiting for data...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

    </main>

    <!-- ========================================
         FOOTER
    ======================================== -->
    <footer class="footer">
        <span>ESP32 Industrial Monitor v1.0</span>
        <span id="poll-status">Polling: 2s</span>
    </footer>

    <!-- JavaScript (loaded last) -->
    <script src="esp32_app.js"></script>
</body>
</html>
